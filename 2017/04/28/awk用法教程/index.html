<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="学习笔记,Linux," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="1. awk简介awk是一种编程语言，用于在linux/unix下对文本和数据进行处理。数据可以来自标准输入、一个或多个文件，或其它命令的输出。它支持用户自定义函数和动态正则表达式等先进功能，是linux/unix下的一个强大编程工具。它在命令行中使用，但更多是作为脚本来使用。awk的处理文本和数据的方式是这样的，它逐行扫描文件，从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的">
<meta property="og:type" content="article">
<meta property="og:title" content="awk用法教程">
<meta property="og:url" content="http://yoursite.com/2017/04/28/awk用法教程/index.html">
<meta property="og:site_name" content="Todzhu">
<meta property="og:description" content="1. awk简介awk是一种编程语言，用于在linux/unix下对文本和数据进行处理。数据可以来自标准输入、一个或多个文件，或其它命令的输出。它支持用户自定义函数和动态正则表达式等先进功能，是linux/unix下的一个强大编程工具。它在命令行中使用，但更多是作为脚本来使用。awk的处理文本和数据的方式是这样的，它逐行扫描文件，从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的">
<meta property="og:updated_time" content="2017-04-28T01:59:26.305Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="awk用法教程">
<meta name="twitter:description" content="1. awk简介awk是一种编程语言，用于在linux/unix下对文本和数据进行处理。数据可以来自标准输入、一个或多个文件，或其它命令的输出。它支持用户自定义函数和动态正则表达式等先进功能，是linux/unix下的一个强大编程工具。它在命令行中使用，但更多是作为脚本来使用。awk的处理文本和数据的方式是这样的，它逐行扫描文件，从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/04/28/awk用法教程/"/>





  <title> awk用法教程 | Todzhu </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Todzhu</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Proteomics Bioinformatic analysis</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于我
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/28/awk用法教程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Todzhu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Todzhu">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                awk用法教程
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-28T00:00:00+08:00">
                2017-04-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="1-awk简介"><a href="#1-awk简介" class="headerlink" title="1. awk简介"></a>1. awk简介</h2><p>awk是一种编程语言，用于在linux/unix下对文本和数据进行处理。数据可以来自标准输入、一个或多个文件，或其它命令的输出。它支持用户自定义函数和动态正则表达式等先进功能，是linux/unix下的一个强大编程工具。它在命令行中使用，但更多是作为脚本来使用。awk的处理文本和数据的方式是这样的，它逐行扫描文件，从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的操作。如果没有指定处理动作，则把匹配的行显示到标准输出(屏幕)，如果没有指定模式，则所有被操作所指定的行都被处理。</p>
<h3 id="1-1-awk-用法"><a href="#1-1-awk-用法" class="headerlink" title="1.1 awk 用法"></a>1.1 awk 用法</h3><p>awk命令格式：awk的命令有模式pattern和操作action组成，模式pattern由两斜杠之间的正则表达式和一个或多个awk操作符组成；操作action由括在大括号内的一条或多条语句组成，语句之间用分号隔开。注意pattern中的正则表达式两端必须加/ /，action的两端必须加{ }。</p>
<pre><code>awk &apos;/pattern/ {action}&apos;;
</code></pre><p>awk脚本是由模式和操作组成的：</p>
<p>pattern {action} 如<code>$ awk &#39;/root/&#39; test</code>，或<code>$ awk &#39;$3 &lt; 100&#39; test</code>。<br>两者是可选的，如果没有模式，则action应用到全部记录，如果没有action，则输出匹配全部记录。默认情况下，每一个输入行都是一条记录，但用户可通过FS变量指定不同的分隔符进行分隔。</p>
<h4 id="1-2-模式"><a href="#1-2-模式" class="headerlink" title="1.2 模式"></a>1.2 模式</h4><p>模式可以是以下任意一个：</p>
<p>/正则表达式/：使用通配符的扩展集。</p>
<p>关系表达式：可以用下面运算符表中的关系运算符进行操作，可以是字符串或数字的比较，如$2&gt;$1选择第二个字段比第一个字段长的行。</p>
<p>模式匹配表达式：用运算符~(匹配)和~!(不匹配)。</p>
<p>模式：指定一个行的范围。该语法不能包括BEGIN和END模式。</p>
<p>BEGIN：让用户指定在第一条输入记录被处理之前所发生的动作，通常可在这里设置全局变量。</p>
<p>END：让用户在最后一条输入记录被读取之后发生的动作。</p>
<h4 id="1-3-操作"><a href="#1-3-操作" class="headerlink" title="1.3 操作"></a>1.3 操作</h4><p>操作由一个或多个命令、函数、表达式组成，之间由换行符或分号隔开，并位于大括号内。主要有四部份：</p>
<p>变量或数组赋值</p>
<p>输出命令</p>
<p>内置函数</p>
<p>控制流命令</p>
<h4 id="1-4-实例"><a href="#1-4-实例" class="headerlink" title="1.4 实例"></a>1.4 实例</h4><p><code>$ awk &#39;/^(no|so)/&#39; test</code>—–打印所有以模式no或so开头的行。</p>
<p><code>$ awk &#39;/^[ns]/{print $1}&#39; test</code>—–如果记录不是以n或s开头，就打印这个记录的第一个字段。</p>
<p><code>$ awk &#39;$1 ~/[0-9][0-9]$/(print $1}&#39; test</code>—–如果第一个域以两个数字结束就打印这个记录。</p>
<p><code>$ awk &#39;$1 == 100 || $2 &lt; 50&#39; test</code>—–如果第一个或等于100或者第二个域小于50，则打印该行。</p>
<p><code>$ awk &#39;$1 != 10&#39; test</code>—–如果第一个域不等于10就打印该行。</p>
<p><code>$ awk &#39;/test/{print $1 + 10}&#39; test</code>—–如果记录包含正则表达式test，则第一个域加10并打印出来。</p>
<p><code>$ awk &#39;{print ($1 &gt; 5 ? &quot;ok &quot;$1: &quot;error&quot;$1)}&#39; test</code>—–如果第一个域大于5则打印问号后面的表达式值，否则打印冒号后面的表达式值。</p>
<p><code>$ awk &#39;/^root/,/^mysql/&#39; test</code>—-打印以正则表达式root开头的记录到以正则表达式mysql开头的记录范围内的所有记录。如果找到一个新的正则表达式root开头的记录，则继续打印直到下一个以正则表达式mysql开头的记录为止，或到文件末尾。</p>
<p>如何把一行竖排的数据转换成横排？</p>
<pre><code>$ awk &apos;{printf(&quot;%s&quot;,$1)}&apos; filename
</code></pre><h3 id="1-5-awk编程"><a href="#1-5-awk编程" class="headerlink" title="1.5 awk编程"></a>1.5 awk编程</h3><h4 id="1-5-1-变量"><a href="#1-5-1-变量" class="headerlink" title="1.5.1 变量"></a>1.5.1 变量</h4><p>在awk中，变量不需要定义就可以直接使用，变量类型可以是数字或字符串。</p>
<p>赋值格式：Variable = expression，如<code>$ awk &#39;$1 ~/test/{count = $2 + $3; print count}&#39; test</code>,上式的作用是,awk先扫描第一个域，一旦test匹配，就把第二个域的值加上第三个域的值，并把结果赋值给变量count，最后打印出来。</p>
<p><em>awk可以在命令行中给变量赋值，然后将这个变量传输给awk脚本。</em></p>
<p>如<code>$ awk -F: -f awkscript month=4 year=2004 test</code>，上式的month和year都是自定义变量，分别被赋值为4和2004。在awk脚本中，这些变量使用起来就象是在脚本中建立的一样。注意，如果参数前面出现test，那么在BEGIN语句中的变量就不能被使用。</p>
<p>域变量也可被赋值和修改，如<code>$ awk &#39;{$2 = 100 + $1; print }&#39; test</code>,上式表示，如果第二个域不存在，awk将计算表达式100加$1的值，并将其赋值给$2，如果第二个域存在，则用表达式的值覆盖$2原来的值。再例如：<code>$ awk &#39;$1 == &quot;root&quot;{$1 =&quot;test&quot;;print}&#39; test</code>，如果第一个域的值是“root”，则把它赋值为“test”，注意，字符串一定要用双引号。</p>
<p>内建变量的使用。变量列表在前面已列出，现在举个例子说明一下。<code>$ awk -F: &#39;{IGNORECASE=1; $1 == &quot;MARY&quot;{print NR,$1,$2,$NF}&#39;test</code>，把IGNORECASE设为1代表忽略大小写，打印第一个域是mary的记录数、第一个域、第二个域和最后一个域。</p>
<h4 id="1-5-2-BEGIN模块"><a href="#1-5-2-BEGIN模块" class="headerlink" title="1.5.2 BEGIN模块"></a>1.5.2 BEGIN模块</h4><p>BEGIN模块后紧跟着动作块，这个动作块在awk处理任何输入文件之前执行。所以它可以在没有任何输入的情况下进行测试。它通常用来改变内建变量的值，如OFS,RS和FS等，以及打印标题。如：<code>$ awk &#39;BEGIN{FS=&quot;:&quot;; OFS=&quot;\t&quot;; ORS=&quot;\n\n&quot;}{print $1,$2,$3} test</code>。上式表示，在处理输入文件以前，域分隔符(FS)被设为冒号，输出文件分隔符(OFS)被设置为制表符，输出记录分隔符(ORS)被设置为两个换行符。<code>$ awk &#39;BEGIN{print &quot;TITLE TEST&quot;}</code>只打印标题。</p>
<h4 id="1-5-3-END模块"><a href="#1-5-3-END模块" class="headerlink" title="1.5.3 END模块"></a>1.5.3 END模块</h4><p>END不匹配任何的输入文件，但是执行动作块中的所有动作，它在整个输入文件处理完成后被执行。如$ <code>awk &#39;END{print &quot;The number of records is&quot; NR}&#39; test</code>，上式将打印所有被处理的记录数。</p>
<h4 id="1-5-4-重定向和管道"><a href="#1-5-4-重定向和管道" class="headerlink" title="1.5.4 重定向和管道"></a>1.5.4 重定向和管道</h4><p>awk可使用shell的重定向符进行重定向输出，如：<code>$ awk &#39;$1 = 100 {print $1 &gt; &quot;output_file&quot; }&#39; test</code>。上式表示如果第一个域的值等于100，则把它输出到output_file中。也可以用&gt;&gt;来重定向输出，但不清空文件，只做追加操作。</p>
<p>输出重定向需用到getline函数。getline从标准输入、管道或者当前正在处理的文件之外的其他输入文件获得输入。它负责从输入获得下一行的内容，并给NF,NR和FNR等内建变量赋值。如果得到一条记录，getline函数返回1，如果到达文件的末尾就返回0，如果出现错误，例如打开文件失败，就返回-1。如：</p>
<p><code>$ awk &#39;BEGIN{ &quot;date&quot; | getline d; print d}&#39; test</code>。执行linux的date命令，并通过管道输出给getline，然后再把输出赋值给自定义变量d，并打印它。</p>
<p><code>$ awk &#39;BEGIN{&quot;date&quot; | getline d; split(d,mon); print mon[2]}&#39; test</code>。执行shell的date命令，并通过管道输出给getline，然后getline从管道中读取并将输入赋值给d，split函数把变量d转化成数组mon，然后打印数组mon的第二个元素。</p>
<p><code>$ awk &#39;BEGIN{while( &quot;ls&quot; | getline) print}&#39;</code>，命令ls的输出传递给geline作为输入，循环使getline从ls的输出中读取一行，并把它打印到屏幕。这里没有输入文件，因为BEGIN块在打开输入文件前执行，所以可以忽略输入文件。</p>
<p><code>$ awk &#39;BEGIN{printf &quot;What is your name?&quot;; getline name &lt; &quot;/dev/tty&quot; } $1 ~name {print &quot;Found&quot; name on line &quot;, NR &quot;.&quot;} END{print &quot;See you,&quot; name &quot;.&quot;} test</code>。在屏幕上打印”What is your name?”,并等待用户应答。当一行输入完毕后，getline函数从终端接收该行输入，并把它储存在自定义变量name中。如果第一个域匹配变量name的值，print函数就被执行，END块打印See you和name的值。</p>
<p><code>$ awk &#39;BEGIN{while (getline &lt; &quot;/etc/passwd&quot; &gt; 0) lc++; print lc}&#39;</code>。awk将逐行读取文件/etc/passwd的内容，在到达文件末尾前，计数器lc一直增加，当到末尾时，打印lc的值。注意，如果文件不存在，getline返回-1，如果到达文件的末尾就返回0，如果读到一行，就返回1，所以命令 while (getline &lt; “/etc/passwd”)在文件不存在的情况下将陷入无限循环，因为返回-1表示逻辑真。</p>
<p>可以在awk中打开一个管道，且同一时刻只能有一个管道存在。通过close()可关闭管道。如：<code>$ awk &#39;{print $1, $2 | &quot;sort&quot; }&#39; test END {close(&quot;sort&quot;)}</code>。awd把print语句的输出通过管道作为linux命令sort的输入,END块执行关闭管道操作。</p>
<p>system函数可以在awk中执行linux的命令。如：<code>$ awk &#39;BEGIN{system(&quot;clear&quot;)&#39;</code>。</p>
<p>fflush函数用以刷新输出缓冲区，如果没有参数，就刷新标准输出的缓冲区，如果以空字符串为参数，如fflush(“”),则刷新所有文件和管道的输出缓冲区。</p>
<h3 id="1-5-5-awk中使用NR和FNR的一些例子"><a href="#1-5-5-awk中使用NR和FNR的一些例子" class="headerlink" title="1.5.5 awk中使用NR和FNR的一些例子"></a>1.5.5 awk中使用NR和FNR的一些例子</h3><p>一般在awk里面输入文件是多个时，NR==FNR才有意义，如果这个值为true，表示还在处理第一个文件。</p>
<p>NR==FNR 這個一般用于读取两個或者兩個以上的文件中，用于判斷是在读取第一個文件。。</p>
<p>test.txt   10行内容</p>
<p>test2.txt    4行内容</p>
<p>awk ‘{print NR,FNR}’ test.txt test2.txt<br>1 1<br>2 2<br>3 3<br>4 4<br>5 5<br>6 6<br>7 7<br>8 8<br>9 9<br>10 10<br>11 1<br>12 2<br>13 3<br>14 4</p>
<p>现在有两个文件格式如下：</p>
<p>cat account</p>
<p>张三|000001<br>李四|000002</p>
<p>cat cdr</p>
<p>000001|10<br>000001|20<br>000002|30<br>000002|15</p>
<p>想要得到的结果是将用户名，帐号和金额在同一行打印出来,如下:</p>
<p>张三|000001|10<br>张三|000001|20<br>李四|000002|30<br>李四|000002|15</p>
<p>执行如下代码</p>
<pre><code>awk -F \| &apos;NR==FNR{a[$2]=$0;next}{print a[$1]&quot;|&quot;$2}&apos; account cdr
</code></pre><p>注释:</p>
<p>由NR=FNR为真时,判断当前读入的是第一个文件account,然后使用{a[$2]=$0;next}循环将account文件的每行记录都存入数组a,并使用$2第2个字段作为下标引用.</p>
<p>由NR=FNR为假时,判断当前读入了第二个文件cdr,然后跳过{a[$2]=$0;next},对第二个文件cdr的每一行都无条件执行 {print a[$1]”|”$2},此时变量$1为第二个文件的第一个字段,与读入第一个文件时,采用第一个文件第二个字段$2为数组下标相同.因此可以在此使用 a[$1]引用数组。</p>
<pre><code>awk &apos;{gsub(/\$/,&quot;&quot;);gsub(/,/,&quot;&quot;);
if ($1&gt;=0.1 &amp;&amp; $1&lt;0.2) c1+=1;
else if ($1&gt;=0.2 &amp;&amp; $1&lt;0.3) c2+=1;
else if ($1&gt;=0.3 &amp;&amp; $1&lt;0.4) c3+=1;
else if ($1&gt;=0.4 &amp;&amp; $1&lt;0.5) c4+=1;
else if ($1&gt;=0.5 &amp;&amp; $1&lt;0.6) c5+=1;
else if ($1&gt;=0.6 &amp;&amp; $1&lt;0.7) c6+=1;
else if ($1&gt;=0.7 &amp;&amp; $1&lt;0.8) c7+=1;
else if ($1&gt;=0.8 &amp;&amp; $1&lt;0.9) c8+=1;
else if ($1&gt;=0.9 ) c9+=1;
else c10+=1; }
END {printf  &quot;%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t%d\t&quot;,c1,c2,c3,c4,c5,c6,c7,c8,c9,c10} &apos; /NEW
</code></pre><p>示例：</p>
<pre><code>awk &apos;{if($0~/^&gt;.*$/) {tmp=$0; getline; if( length($0)&gt;=200) {print  tmp&quot;\n&quot;$0; } }}&apos;  filename

awk &apos;{if($0~/^&gt;.*$/) {IGNORECASE=1; if($0~/PREDICTED/) {getline;} else {print $0; getline;  print $0; } }}&apos; filename

awk &apos;{if($0~/^&gt;.*$/) {IGNORECASE=1; if($0~/mRNA/) {print $0; getline;  print $0; } else {getline;} }}&apos;  filename

awk &apos;{ temp=$0; getline; if($0~/unavailable/) {;} else {print temp&quot;\n&quot;$0;} }&apos; filename
</code></pre><p>substr($4,20)     —&gt;  表示是从第4个字段里的第20个字符开始，一直到设定的分隔符”,”结束.</p>
<p>substr($3,12,8)  —&gt;  表示是从第3个字段里的第12个字符开始，截取8个字符结束.</p>
<p>awk字符串转数字<br>$ awk ‘BEGIN{a=”100”;b=”10test10”;print (a+b+0);}’<br>110<br>只需要将变量通过”+”连接运算。自动强制将字符串转为整型。非数字变成0，发现第一个非数字字符，后面自动忽略。<br>二、awk数字转为字符串<br>$ awk ‘BEGIN{a=100;b=100;c=(a””b);print c}’<br>100100<br>只需要将变量与””符号连接起来运算即可。<br>三、awk字符串连接操作(字符串连接；链接；串联)<br>$ awk ‘BEGIN{a=”a”;b=”b”;c=(a””b);print c}’<br>ab<br>$ awk ‘BEGIN{a=”a”;b=”b”;c=(a+b);print c}’<br>0</p>
<p>把文件中的各行串联起来：</p>
<p>awk ‘BEGIN{xxxx=””;}{xxxx=(xxxx””$0);}END{print xxxx}’ temp.txt<br>awk ‘BEGIN{xxxx=””;}{xxxx=(xxxx”\”,\””$0);}END{print xxxx}’ temp.txt</p>
<p>提取满足条件的子字符串：</p>
<p> cat &gt; temp<br>74938 A&gt;G 347589B&gt;C43795743</p>
<p>awk ‘{x=$0;while (match(x, “[A-Z]&gt;[A-Z]”) &gt; 0) {  print substr(x, RSTART, RLENGTH);  x = substr(x, RSTART+RLENGTH);} }’ temp</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/学习笔记/" rel="tag"># 学习笔记</a>
          
            <a href="/tags/Linux/" rel="tag"># Linux</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/26/Java学习笔记-02-正则表达式/" rel="next" title="Java正则表达式学习总结">
                <i class="fa fa-chevron-left"></i> Java正则表达式学习总结
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/08/蛋白组KEGG注释详解/" rel="prev" title="蛋白质组学KEGG注释详解">
                蛋白质组学KEGG注释详解 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Todzhu" />
          <p class="site-author-name" itemprop="name">Todzhu</p>
           
              <p class="site-description motion-element" itemprop="description">Stay hungry, Stay foolish.</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-awk简介"><span class="nav-number">1.</span> <span class="nav-text">1. awk简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-awk-用法"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 awk 用法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-模式"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.2 模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-操作"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.3 操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-实例"><span class="nav-number">1.1.3.</span> <span class="nav-text">1.4 实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-awk编程"><span class="nav-number">1.2.</span> <span class="nav-text">1.5 awk编程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-1-变量"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.5.1 变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-2-BEGIN模块"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.5.2 BEGIN模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-3-END模块"><span class="nav-number">1.2.3.</span> <span class="nav-text">1.5.3 END模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-4-重定向和管道"><span class="nav-number">1.2.4.</span> <span class="nav-text">1.5.4 重定向和管道</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-5-awk中使用NR和FNR的一些例子"><span class="nav-number">1.3.</span> <span class="nav-text">1.5.5 awk中使用NR和FNR的一些例子</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Todzhu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
